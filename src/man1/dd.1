.\" Copyright Andries Brouwer, Ragnar Hojland Espinosa and A. Wik, 1998.
.\"
.\" This file may be copied under the conditions described
.\" in the LDP GENERAL PUBLIC LICENSE, Version 1, September 1998
.\" that should have been distributed together with this file.
.\"
.\" Дата последней коррекции перевода 30.11.2003
.\" Перевод с английского выполнил Виктор Вислобоков <corochoone@perm.ru>
.\" http://www.linuxshare.ru/projects/trans/mans.html
.\" Вычитано и скорректировано by alexm@hsys.msk.ru для проекта
.\" http://alexm.here.ru/manpages-ru/
.TH DD 1 1998-11 "GNU fileutils 4.0"
.SH ИМЯ
dd \- преобразовать и копировать файл
.SH ОБЗОР
.B dd
.B [\-\-help] [\-\-version]
.BI [if= файл ]
.BI [of= файл ]
.BI [ibs= байты ]
.BI [obs= байты ]
.BI [bs= байты ]
.BI [cbs= байты ]
.BI [skip= блоки ]
.BI [seek= блоки ]
.BI [count= блоки ]
.B "[conv={ascii, ebcdic, ibm, block, unblock, lcase, ucase, swab, noerror, notrunc, sync}]"
.SH ОПИСАНИЕ
.B dd
копирует файл (по умолчанию из стандартного ввода на стандартный
вывод), используя заданные размеры блоков для ввода и вывода, и в то же
время, возможно, выполняя его преобразование.
.PP
.B dd
читает по одному блоку за раз, используя заданный размер входного блока
(по умолчанию 512 байт).
Если задана опция
.BI bs= байты
и не требуется преобразований, отличных от
.BR sync ", " noerror ", или " notrunc ", то"
.B dd
записывает прочитанные данные (которых может быть меньше, чем было запрошено)
в отдельный выходной блок. Выходной блок имеет точно ту же длину, что
прочитанный блок, за исключением случая, когда задано преобразование
.BR sync ,
при котором данные добиваются символами NUL (или
пробелами, см. ниже).
.PP
В противном случае ввод читается по одному блоку за раз,
обрабатывается, а результирующий вывод накапливается и записывается
поблочно с заданным размером выходного блока.  Последний выходной блок
может быть короче.
.PP
За числовыми значениями опций (байты и блоки) могут следовать
коэффициенты: `k'=1024, `b'=512, `w'=2, `c'=1 (коэффициенты
`w' и `c' являются расширениями GNU; `w' никогда не должен использоваться --
он означает 2 в System V и 4 в 4.2BSD).
Два или более таких числовых выражений могут быть умножены друг на
друга с помощью символа `x' между ними. 
Версия GNU fileutils-4.0 также разрешает при задании размеров блоков
(в bs=, cbs=, ibs=, obs=) следующие коэффициенты:
M=1048576, G=1073741824, и так далее для T, P, E, Z, Y.
Суффикс `D' делает значения десятичными:
kD=1000, MD=1000000, GD=1000000000, и так далее.
(Заметим, что для ls, df, du размер M и т.\ п. определяется переменными
окружения, но для dd он фиксирован).
.SH ОПЦИИ
.TP
.BI "if=" файл
Читает данные из
.I файла
вместо стандартного ввода.
.TP
.BI "of=" файл
Пишет данные в 
.I файл
вместо стандартного вывода. Если только не задан
.BR conv=notrunc ,
.B dd
обрезает
.I файл
до нулевого размера (или размера, заданного в
.BR seek= ")."
.TP
.BI "ibs=" bytes
Читает по
.I bytes
байт за раз. По умолчанию 512.
.TP
.BI "obs=" bytes
Пишет по
.I bytes
байт за раз. По умолчанию 512.
.TP
.BI "bs=" bytes
Читает и пишет по
.I bytes
байт за раз. Данная опция перекрывает опции
.B ibs
и
.BR obs .
(Кроме того, установка
.B bs
не эквивалентна установке обеих опций
.B ibs
и
.B obs
в то же значение, по крайней мере, когда не задано преобразований
отличных от
.BR sync ,
.B noerror
и
.BR notrunc ,
так как она оговаривает, что каждый входной блок будет копироваться
на выход как отдельный блок без объединения коротких блоков).
.TP
.BI "cbs=" байт
Задает размер блока для преобразований типа
.B block
и
.BR unblock .
.TP
.BI "skip=" blocks
Пропускает
.I blocks
блоков длины
.BR ibs
байт
во входном файле перед началом копирования.
.TP
.BI "seek=" blocks
Пропускает в выходном файле
.I blocks
блоков длины
.BR obs
байт перед началом копирования.
.TP
.BI "count=" blocks
Копирует лишь
.I blocks
блоков длины
.BR ibs
байт из входного файла, а не весь входной файл, как обычно.
.TP
.BI "conv=" ПРЕОБРАЗОВАНИЕ "[," ПРЕОБРАЗОВАНИЕ "]..."
Преобразует файл, как задано аргументом(ами)
.IR ПРЕОБРАЗОВАНИЕ .
(Вокруг запятых не должно быть пробелов).
.RS
.PP
Типы преобразований:
.PP
.TP
.B ascii
Преобразование EBCDIC в ASCII.
.TP
.B ebcdic
Преобразование ASCII в EBCDIC.
.TP
.B ibm
Преобразование ASCII в альтернативный EBCDIC.
.TP
.B block
Для каждой строки во входном файле, выводить
.B cbs
байт, заменяя символ новой строки на пробел и добивая пробелами
при необходимости.
.TP
.B unblock
Заменять заключительные пробелы в каждом входном блоке размера 
.BR cbs
байт на символ новой строки.
.TP
.B lcase
Изменять заглавные буквы на строчные.
.TP
.B ucase
Изменять строчные буквы на заглавные.
.TP
.B swab
Менять местами каждую пару входных байт.
Если последний байт имеет нечетный порядковый номер, то он
просто копируется (так как менять местами нечего).
[POSIX 1003.2b, PASC interpretations 1003.2 #3 и #4]
.TP
.B noerror
Продолжать после ошибок чтения.
.TP
.B notrunc
Не обрезать выходной файл.
.TP
.B sync
Дополнять каждый входной блок до размера
.B ibs
путем добавления нулевых байт.
.RE
.SH "СТАНДАРТНЫЕ ОПЦИИ GNU"
.TP
.B "\-\-help"
Выдать подсказку на стандартный вывод и успешно завершиться.
.TP
.B "\-\-version"
Выдать информацию о версии на стандартный вывод и успешно завершиться.
.TP
.B "\-\-"
Служит для обозначения конца списка опций.
.SH ОКРУЖЕНИЕ
При работе обычным образом используются значения переменных LANG,
LC_ALL, LC_CTYPE и LC_MESSAGES.
.SH "СОВМЕСТИМОСТЬ"
POSIX 1003.2
.SH ПРИМЕР
Часто стример не может работать с блоками произвольного размера, и
.B dd
будет выдавать ошибку ввода/вывода для последнего фрагмента данных,
который не полностью заполняет блок. Для получения всего содержимого
ленты, используйте `dd if=myfile of=/dev/mytape conv=sync'. 
Разумеется, если прочитать теперь этот файл обратно с ленты, то он
станет немного больше, потому что будет дополнен нулями.
.SH ОШИБКИ РЕАЛИЗАЦИИ
Команды типа `dd if=myfile of=/dev/fd0 bs=1k seek=172' завершаются
неудачей на некоторых системах, потому что
.B dd
пытается обрезать выходной файл, а обрезать блочное устройство
нельзя.  В таких случаях добавьте флаг `conv=notrunc'.
.SH ЗАМЕЧАНИЯ
Данная страница описывает версию
.B dd
из пакета fileutils-4.0;
другие версии могут иметь небольшие отличия.
Исправления и дополнения присылайте по адресу aeb@cwi.nl.
Сообщения об ошибках в этой программе присылайте по адресу
fileutils-bugs@gnu.ai.mit.edu.
.SH ПЕРЕВОД
Перевёл с английского Виктор Вислобоков <corochoone@perm.ru> 2003

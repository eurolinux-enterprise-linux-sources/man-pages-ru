.\" Copyright Andries Brouwer, Ragnar Hojland Espinosa and A. Wik, 1998.
.\"
.\" This file may be copied under the conditions described
.\" in the LDP GENERAL PUBLIC LICENSE, Version 1, September 1998
.\" that should have been distributed together with this file.
.\"
.\" Дата последней коррекции перевода 30.11.2003
.\" Перевод с английского выполнил Виктор Вислобоков <corochoone@perm.ru>
.\" http://www.linuxshare.ru/projects/trans/mans.html
.\" Вычитано и скорректировано by alexm@hsys.msk.ru для проекта
.\" http://alexm.here.ru/manpages-ru/
.TH DF 1 1998-11 "GNU fileutils 4.0"
.SH ИМЯ
df \- отчёт об использовании дискового пространства
.SH ОБЗОР
.BI "df [" опции "] [" файл... ]
.sp
Опции POSIX:
.B "[\-kP] [\-\-]"
.sp
Опции GNU (краткая форма):
.B [\-ahHiklmPv]
.BI "[\-t " тип-файловой-системы ]
.BI "[\-x " тип-файловой-системы ]
.BI "[\-\-block\-size=" размер ]
.B [\-\-print\-type]
.B [\-\-no\-sync]
.B [\-\-sync]
.B "[\-\-help] [\-\-version] [\-\-]"
.SH ОПИСАНИЕ
.B df
выдаёт отчёт о доступном и использованном дисковом пространстве на
файловых системах.
.PP
При запуске без аргументов
.B df
выдаёт отчёт по доступному и использованному пространству для всех
смонтированных
файловых систем (всех типов).
В противном случае,
.B df
для каждого
.IR файла ,
указанного в командной строке, выдаёт отчёт по файловой системе, которая
его содержит.
.SH "ПОДРОБНОСТИ ВЕРСИИ POSIX"
По умолчанию все размеры выдаются в блоках по 512 байт, но если
задана опция \-k, то используются блоки размером по 1024 байта.
Формат вывода не стандартизован, за исключением случая использования опции \-P.
Если
.I файл
является не обычным файлом, а каталогом или FIFO, результат
не определён.
.SH "ПОДРОБНОСТИ ВЕРСИИ GNU"
По умолчанию все размеры выдаются в блоках по 1024-байт,
(если размер блока не задан опцией) за исключением случая,
когда установлена переменная
.B POSIXLY_CORRECT .
В этом случае размер блока соответствует POSIX версии.
.PP
Если аргумент
.I файл
является дисковым файлом устройства, содержащим смонтированную
файловую систему, то
.B df
показывает доступное пространство на этой файловой системе, а
не на той, где содержится файл устройства.
.SH "ОПЦИИ POSIX"
.TP
.B "\-k"
Использовать размер блока в 1024 байта вместо размера по
умолчанию: 512 байт.
.TP
.B "\-P"
Вывод осуществляется в шесть колонок, с заголовком `Filesystem
N-blocks Used Available Capacity Mounted on' (с размером
блока 512 байт, но при задании опции \-k размер блока будет
1024 байта).
.TP
.B "\-\-"
Завершает список опций.

.SH "ОПЦИИ GNU"
.TP
.B "\-a, \-\-all"
Включает в список файловых систем те, которые имеют размер в 0
блоков, и которые по умолчанию опускаются. Такие файловые системы
обычно являются псевдо-файловыми системами специального назначения,
например, для automounter.  Кроме того, только если задана эта
опция, будут показаны файловые системы типа "ignore" или "auto",
которые поддерживаются некоторыми операционными системами.
.TP
.BI "\-\-block\-size=" size
Выдаёт размеры в блоках
.I размера
байт. (Новая возможность, но сломана в fileutils-4.0.)
.TP
.B "\-h, \-\-human\-readable"
Добавляет к каждому размеру букву, например
.B M
для мегабайт (`мебибайт').
.TP
.B "\-H, \-\-si"
Делает то же, что и опция
.BR \-h ,
но использует официальные SI единицы измерения (где для расчётов
используется 1000 вместо 1024 и, таким образом, M\~-- это 1000000, а не
1048576).
(Новое в fileutils-4.0.)
.TP
.B "\-i, \-\-inodes"
Вместо информации о блоках выдаётся информация об использовании inode'ов
в файловой системе.  Inode содержит информацию о
файле: владелец, права доступа, временные штампы и
местоположение на диске.
.TP
.B "\-k, \-\-kilobytes"
При выводе устанавливает размер блока в 1024 байт.
.TP
.B "\-l, \-\-local"
Выводит только данные о локальных файловых системах.
(Новое в fileutils-4.0.)
.TP
.B "\-m, \-\-megabytes"
При выводе устанавливает размер блока в двоичный мегабайт (1048576 байт).
Заметим, что четыре опции \-h, \-H, \-k, \-m носят взаимоисключающий
характер и фактически будет работать только последняя, указанная в
командной строке;
например, если заданы одновременно опции \-\-si и \-m, то в результате
при выводе размер блока будет установлен в мегабайт (1048576 байт).
[На интерпретацию размеров блоков также должна оказывать влияние переменная
окружения BLOCK_SIZE, но она не учитывается в версии fileutils-4.0]
.TP
.B "\-\-no\-sync"
Не делать системный вызов
.B sync
перед получением данных об использовании дискового пространства.
При этом 
.B df
может запуститься значительно быстрее, но на некоторых файловых системах
(замечено в SunOS) результаты могут быть слегка устаревшими.  Этот флаг включён по
умолчанию.
.TP
.B "\-P, \-\-portability"
Использовать формат вывода по стандарту
.SM POSIX.
Он такой же, как формат по умолчанию, только информация
о каждой файловой системе всегда выводится на одной строке;
имя смонтированного устройства никогда не помещается на отдельную
строку.  Это
приводит к тому, что если длина имени смонтированного устройства больше, чем
20 символов (например, для некоторых сетевых файловых систем), то
колонки не выравниваются.
.TP
.B "\-\-sync"
Делать системный вызов
.B sync
перед получением данных об использовании дискового пространства.
На некоторых файловых системах (замечено в SunOS), выполнение
данного системного вызова даёт более достоверные результаты,
но зато с этим флагом выполнение
.B df
происходит значительно медленнее, особенно когда файловых систем много
или же они чрезвычайно активно используются.
.TP
.BI "\-t " "тип-файловой-системы, " "\-\-type=" "тип-файловой-системы"
Показывать только файловые системы с указанным
.IR типом-файловой-системы .
Можно задать несколько типов файловых систем, если использовать
несколько опций
.BR \-t .
По умолчанию никакие типы файловых системы не опускаются.
.TP
.B "\-T, \-\-print\-type"
Выдавать тип для каждой файловой системы. Тип берётся от операционной
системы (и определяется системно-зависимым способом, например посредством
чтения файла
.IR /etc/mtab ).
Смотри также
.BR mount (8).
.TP
.BI "\-x " "тип-файловой-системы, " "\-\-exclude\-type=" "тип-файловой-системы"
Не показывать файловые системы с заданным
.IR типом-файловой-системы .
Можно задать несколько типов файловых систем, если использовать
несколько опций
.B "\-x" .
По умолчанию никакие типы файловых систем не опускаются.
.TP
.B "\-v"
Игнорируется для совместимости с версией
.B df
из System V.
.SH "СТАНДАРТНЫЕ ОПЦИИ GNU"
.TP
.B "\-\-help"
Выдать подсказку на стандартный вывод и успешно завершиться.
.TP
.B "\-\-version"
Выдать информацию о версии на стандартный вывод и успешно завершиться.
.TP
.B "\-\-"
Служит для обозначения конца списка опций.
.SH ОКРУЖЕНИЕ
Переменная POSIXLY_CORRECT влияет на выбор размера блока.
Если она не установлена и переменная BLOCKSIZE имеет значение,
начинающееся со слова `HUMAN', то программа ведёт себя как
при указании опции \-h, если при этом не указаны опции
\-k и \-m.
Значения переменных LANG, LC_ALL, LC_CTYPE и LC_MESSAGES используются
обычным образом.
.SH "СОВМЕСТИМОСТЬ"
POSIX 1003.2
.SH "СМОТРИ ТАКЖЕ"
.BR mount (8)
.SH ЗАМЕЧАНИЯ
Данная страница описывает версию
.B df
пакета fileutils-4.0;
другие версии могут иметь небольшие отличия.
Исправления и дополнения присылайте по адресу aeb@cwi.nl.
Сообщения об ошибках в этой программе присылайте по адресу
fileutils-bugs@gnu.ai.mit.edu.
.SH ПЕРЕВОД
Перевёл с английского Виктор Вислобоков <corochoone@perm.ru> 2003

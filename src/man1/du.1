.\" Copyright Andries Brouwer, Ragnar Hojland Espinosa and A. Wik, 1998.
.\"
.\" This file may be copied under the conditions described
.\" in the LDP GENERAL PUBLIC LICENSE, Version 1, September 1998
.\" that should have been distributed together with this file.
.\"
.\" Дата последней коррекции перевода 30.11.2003
.\" Перевод с английского выполнил Виктор Вислобоков <corochoone@perm.ru>
.\" http://www.linuxshare.ru/projects/trans/mans.html
.\" Вычитано и скорректировано by alexm@hsys.msk.ru для проекта
.\" http://alexm.here.ru/manpages-ru/
.TH DU 1 1998-11 "GNU fileutils 4.0"
.SH ИМЯ
du \- оценка места на диске, занимаемого файлом
.SH ОБЗОР
.BI "du [" опции "] [" файл... ]
.sp
Опции POSIX:
.B "[\-askx] [\-\-]"
.sp
Опции GNU (краткая форма):
.B [\-abcDhHklLmsSxX]
.BI "[\-\-block\-size=" количество ]
.BI "[\-\-exclude=" шаблон ]
.BI "[\-\-max\-depth=" n ]
.B "[\-\-help] [\-\-version] [\-\-]"
.SH ОПИСАНИЕ
.B du
выдает отчет об использовании дискового пространства заданными файлами, а
также каждым каталогом иерархии подкаталогов каждого указанного
каталога.  Здесь под `использованным дисковым пространством'
понимается пространство, используемое для всей иерархии подкаталогов
указанного каталога.
.PP
Запущенная без аргументов, команда
.B du
выдает отчет о дисковом пространстве для текущего каталога.
.SH "ПОДРОБНОСТИ POSIX ВЕРСИИ"
По умолчанию, размеры указываются в блоках по 512 байт, но если
задана опция \-k, то размер блока принимается в 1024 байт.
.SH "ПОДРОБНОСТИ ВЕРСИИ GNU"
Размеры указываются в блоках по 1024 байт (если размер не задан
посредством опций), за исключением случая, когда заданна переменная
окружения
.B POSIXLY_CORRECT ,
В этом случае размер блока соответствует версии POSIX.
.SH "ОПЦИИ POSIX"
.TP
.B "\-a"
Показывать размеры для всех встретившихся файлов, а не только для
каталогов.
.TP
.B "\-k"
Использовать размер блока 1024 байта, вместо размера по умолчанию
в 512 байт.
.TP
.B "\-s"
Выводить размеры только для указанных явно аргументов, а не для
их подкаталогов.
.TP
.B "\-x"
Подсчитывать размеры только для той файловой системы, где
расположен заданный аргумент. (Если в иерархии встретятся
каталоги, которые будут являться точками монтирования других
файловых систем, то их размеры учитываться не будут прим. перев.)
.TP
.B "\-\-"
Завершает список опций.
.SH "ОПЦИИ GNU"
.TP
.B "\-a, \-\-all"
Показывать размеры для всех встретившихся файлов, а не только для
каталогов.
.TP
.B "\-b, \-\-bytes"
Выдавать размеры в байтах вместо килобайтов.
.TP
.BI "\-\-block\-size=" количество
Выдавать размеры в блоках длиной
.I количество
байт.
(Новое в file\%utils-4.0.)
.TP
.B "\-c, \-\-total"
Выдавать общий итог по всем аргументам после того, как все аргументы
будут обработаны. Это может быть использовано для выяснения суммарного
использованного дискового пространства для всего списка заданных
файлов и каталогов.
.TP
.B "\-D, \-\-dereference\-args"
Раскрывать символьные ссылки, заданные в командной строке. 
Не оказывает влияния на остальные символьные ссылки.  Это полезно
для поиска использованного дискового пространства в таких каталогах,
как
.IR /usr/tmp ,
которые часто являются символьными ссылками.
.TP
.BI "\-\-exclude=" шаблон
При рекурсивном выполнении пропускать каталоги или файлы, чьи имена
совпадают с заданным
.IR шаблоном .
Этот
.I шаблон
может быть любым файловым шаблоном Bourne shell.
(Новое в file\%utils-4.0.)
.TP
.B "\-h, \-\-human\-readable"
Добавлять букву размера, например
.B M
для двоичного мегабайта (`мебибайт'), к каждому размеру.
.TP
.B "\-H, \-\-si"
Делает то же, что и опция
.BR \-h ,
но использует официальные единицы измерения SI (где для расчетов
используется 1000 вместо 1024 и, таким образом, M - это 1000000 вместо
10485576).
(Новое в file\%utils-4.0.)
.TP
.B "\-k, \-\-kilobytes"
Выдавать размеры в KiB (бинарных килобайтах, 1024 байта).
.TP
.B "\-l, \-\-count\-links"
Подсчитывать размеры всех файлов, даже если они уже встречались
(например, при использовании жестких ссылок).
.TP
.B "\-L, \-\-dereference"
Раскрывать символьные ссылки (показывать дисковое пространство,
используемое файлом или каталогом, на которые указывает ссылка,
вместо пространства, используемого самой ссылкой).
.TP
.B "\-m, \-\-megabytes"
Выдавать размеры в MiB (бинарных мегабайтах, 1048576 байтов).
.TP
.BI "\-\-max\-depth=" n
Выдавать общий итог для каталога (или файла, если задана опция
.B \-a
), только если он находится не более чем на 
.I n
уровней глубины ниже заданного в командной строке аргумента;
.BI "\-\-max\-depth=" 0
означает то же самое, что и опция
.B \-s .
(Новое в file\%utils-4.0.)
.TP
.B "\-s, \-\-summarize"
Выдавать только суммарный итог для каждого аргумента.
.TP
.B "\-S, \-\-separate\-dirs"
Выдавать отдельно размер каждого каталога, не включая размеры
подкаталогов.
.TP
.B "\-x, \-\-one\-file\-system"
Пропускать каталоги, находящиеся не на той же файловой системе, что и
обрабатываемый аргумент командной строки.
.TP
.BI "\-X " "файл, " "\-\-exclude\-from=" "файл"
Выполняет те же действия, что и опция
.BR \-\-exclude ,
за исключением того, что шаблоны берутся из указанного
.IR файла .
Шаблоны перечисляются по одному на строку. Если
.I файл
задан как `\-', то шаблоны читаются из стандартного ввода.
(Новое в file\%utils-4.0.)
.SH "СТАНДАРТНЫЕ ОПЦИИ GNU"
.TP
.B "\-\-help"
Выдать подсказку на стандартный вывод и успешно завершиться.
.TP
.B "\-\-version"
Выдать информацию о версии на стандартный вывод и успешно завершиться.
.TP
.B "\-\-"
Служит для обозначения конца списка опций.
.SH "ОШИБКИ В РЕАЛИЗАЦИИ"
В BSD системах
.B du
выдает размеры, которые являются наполовину меньше правильных, для
файлов, которые смонтированы по NFS из HP-UX систем. В HP-UX системах
.B du
выдает размеры, которые в два раза больше правильных для файлов,
которые смонтированы по NFS из BSD систем. Это недостаток систем HP-UX;
он также есть и в программе 
.B du
из HP-UX.
.SH ОКРУЖЕНИЕ
Выбор размера блока определяет переменная POSIXLY_CORRECT.
Если она не установлена и переменная BLOCKSIZE имеет значение,
начинающееся со слова `HUMAN', то программа ведет себя как
при указании опции \-h, если она не перекрывается опциями
\-k и \-m.
При работе обычным образом используются значения переменных LANG, LC_ALL, LC_CTYPE и
LC_MESSAGES.
.SH "СОВМЕСТИМОСТЬ"
POSIX 1003.2
.SH ЗАМЕЧАНИЯ
Данная страница описывает версию
.B du
пакета fileutils-4.0;
из пакета fileutils-4.0;
другие версии могут иметь небольшие отличия.
Исправления и дополнения присылайте по адресу aeb@cwi.nl.
Отчеты об ошибках в этой программе присылайте по адресу
fileutils-bugs@gnu.ai.mit.edu.
.SH ПЕРЕВОД
Перевёл с английского Виктор Вислобоков <corochoone@perm.ru> 2003

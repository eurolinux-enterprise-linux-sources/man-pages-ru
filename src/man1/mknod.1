.\" Copyright Andries Brouwer, Ragnar Hojland Espinosa and A. Wik, 1998.
.\"
.\" This file may be copied under the conditions described
.\" in the LDP GENERAL PUBLIC LICENSE, Version 1, September 1998
.\" that should have been distributed together with this file.
.\"
.\" Дата последней коррекции перевода: 30.11.2003
.\" Перевод с английского выполнил Виктор Вислобоков <corochoone@perm.ru>
.\" http://www.linuxshare.ru/projects/trans/mans.html
.\" Вычитано и скорректировано by alexm@hsys.msk.ru для проекта
.\" http://alexm.here.ru/manpages-ru/
.TH MKNOD 1 1998-11 "GNU fileutils 4.0"
.SH ИМЯ
mknod \- создает специальные блочные или символьные файлы
.SH КРАТКАЯ СВОДКА
.BI "mknod [" опции "] " имя " {bc} " "старший_номер младший_номер"
.br
.BI "mknod [" опции "] " имя " p"
.sp
Опции GNU (краткая форма):
.BI "[\-m " права "] [\-\-help] [\-\-version] [\-\-]"
.SH ОПИСАНИЕ
.B mknod
создает FIFO (именованный канал), специальный символьный или
специальный блочный файл, с именем
.IR имя .
.PP
Специальный файл записывается в файловой системе с помощью тройки
параметров: один логический и два целых.  Логический параметр
говорит о том, является ли специальный файл символьным или
блочным. Два целых параметра задают старший и младший номера
устройства.
.PP
Таким образом, специальный файл практически не занимает места на диске и
используется только для общения с операционной системой, а не
для хранения данных. Часто специальные файлы указывают на
аппаратные устройства (диск, стример, терминал, принтер)
или на службы операционной системы (/dev/null, /dev/random).
.PP
Специальные блочные файлы обычно являются устройствами,
подобными диску (где данные могут быть получены с помощью номера
блока, и, например, такие устройства могут иметь кэш блоков).
Все другие устройства являются специальными символьными файлами.
(Давным давно различие между блочными и символьными файлами
было другим: Ввод/вывод в специальный символьный файл
не может быть буферизованным, а ввод/вывод в блочный файл
буферизован.)
.PP
Команда
.B mknod
создает файлы этих типов.
.PP
Аргумент, следующий за
.I именем
задает тип файла, который нужно создать:
.RS
.TP
.B p
для FIFO
.TP
.B b
для блочного (буферизованного) специального файла
.TP
.B c
для символьного (небуферизованного) специального файла
.RE
.PP
GNU версия
.B mknod
позволяет указывать букву
.B u
(`unbuffered') как синоним
.BR c .
.PP
Когда создается специальный блочный или символьный файл, то после типа файла
должны быть заданы старший и младший номера устройства (в десятичной
или восьмеричной (с лидирующим нулем) форме; GNU версия также позволяет
шестнадцатеричную форму с указанием в начале 0x).
По умолчанию права доступа к созданным файлам устанавливаются в
0666 (`a+rw') за вычетом битов, установленных в umask.
.SH ОПЦИИ
.TP
.BI "\-m " права ", \-\-mode=" права
Устанавливает права доступа к создаваемым файлам в значение
.IR права ,
которое может иметь как символьную форму, описанную в
.BR chmod (1),
так и записываться в виде восьмеричного числа.
.SH "СТАНДАРТНЫЕ ОПЦИИ GNU"
.TP
.B "\-\-help"
Выдать подсказку на стандартный вывод и успешно завершиться.
.TP
.B "\-\-version"
Выдать информацию о версии на стандартный вывод и успешно завершиться.
.TP
.B "\-\-"
Служит для обозначения конца списка опций.
.SH СОВМЕСТИМОСТЬ
POSIX не описывает эту команду, так как она является непереносимой,
и рекомендует использовать
.BR mkfifo (1)
для создания FIFO.
SVID имеет команду
.I /etc/mknod
с вышеописанным синтаксисом, но без опции установки прав доступа.
.SH ЗАМЕЧАНИЯ
В Linux (версии 1.3.22 или новее) файл
.I /usr/src/linux/Documentation/devices.tex
содержит список устройств, где есть имена устройства, тип, старший
и младший номер.
.LP
Данная страница описывает версию
.B mknod
из пакета fileutils-4.0;
другие версии могут иметь небольшие отличия.
Исправления и дополнения присылайте по адресу aeb@cwi.nl.
Отчеты об ошибках в этой программе присылайте по адресу
fileutils-bugs@gnu.ai.mit.edu.
.SH "СМОТРИ ТАКЖЕ"
.BR chmod (1),
.BR mkfifo (1),
.BR mknod (2)
.SH ПЕРЕВОД
Перевёл с английского Виктор Вислобоков <corochoone@perm.ru> 2003

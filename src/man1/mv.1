.\" -*- nroff -*-
.\" Copyright Andries Brouwer, Ragnar Hojland Espinosa and A. Wik, 1998.
.\"
.\" This file may be copied under the conditions described
.\" in the LDP GENERAL PUBLIC LICENSE, Version 1, September 1998
.\" that should have been distributed together with this file.
.\"
.\" Дата последней коррекции перевода: 30.11.2003
.\" Перевод с английского выполнил Виктор Вислобоков <corochoone@perm.ru>
.\" http://www.linuxshare.ru/projects/trans/mans.html
.\" Вычитано и скорректировано by alexm@hsys.msk.ru для проекта
.\" http://alexm.here.ru/manpages-ru/
.TH MV 1 1998-11 "GNU fileutils 4.0"
.SH ИМЯ
mv \- перемещает (переименовывает) файлы
.SH ОБЗОР
.BI "mv [" "опции..." "] " "исходный_файл файл_назначения"
.br
.BI "mv [" "опции..." "] " "исходный_файл... каталог"
.sp
Опции POSIX:
.B "[\-fi] [\-\-]"
.sp
Опции GNU (краткая форма):
.BI "[\-bfiuv] [\-S " suffix "] [\-V {numbered,existing,simple}] "
.B "[\-\-help] [\-\-version] [\-\-]"
.SH ОПИСАНИЕ
.B mv
перемещает или переименовывает файлы или каталоги.
.PP
Если последний аргумент является именем существующего каталога, то
.B mv
перемещает все остальные файлы в этот каталог. В противном случае,
если задано только два файла, то имя первого файла будет изменено
на имя второго. Если последний аргумент не является каталогом и
задано более чем два файла, то будет выдано сообщение об ошибке.
.PP
Так, mv /a/x/y /b переименует файл /a/x/y в /b/y, если /b
является существующим каталогом, и в /b, если нет.
.PP
Если при переименовании
.I исходного_файла
в
.IR файл_назначения ,
этот 
.I файл_назначения
существует и при этом задана опция \-i или если произвести запись в
.I файл назначения
невозможно, а стандартным выводом является терминал и не задана опция
.BR "\-f" ,
то
.B mv
спрашивает у пользователя разрешение на замену этого файла, которое
выдается на стандартный вывод ошибок, и читает ответ из
стандартного ввода. Если ответ не утвердительный, то файл пропускается.
.PP
Когда и
.I исходный_файл
и
.I файл_назначения
находятся на одной файловой системе, они являются одним и тем же
файлом (изменяется только имя файла; владелец, права доступа,
временные штампы остаются неизменными).  Если же они находятся на
разных файловых системах, то
.I исходный_файл
копируется и затем удаляется.
.B mv
будет копировать время последней модификации, время доступа, идентификаторы
пользователя и группы и права доступа к файлу если это возможно. Если
копирование идентификаторов пользователя и/или группы закончилось
неудачно, то в копии файла сбрасываются биты setuid и setgid.
.SH "ОПЦИИ POSIX"
.TP
.B "\-f"
Не выдавать запрос на подтверждение операции.
.TP
.B "\-i"
Выдавать запрос на подтверждение операции, когда
.I файл_назначения
существует.
(В случае, когда заданы обе опции \-f и \-i, срабатывает только последняя).
.TP
.B "\-\-"
Завершает список опций.
.SH "ДЕТАЛИ ВЕРСИИ GNU"
Реализация GNU
.I mv
(в fileutils-3.16) работает неправильно, так как там
.B mv
может переносить между файловыми системами только обычные файлы.
.SH "ОПЦИИ GNU"
.TP
.B "\-f, \-\-force"
Удаляет
.IR файлы_назначения ,
если они существуют, не спрашивая об этом пользователя.
.TP
.B "\-i, \-\-interactive"
Просит подтверждения на замену существующего файла, в виде вопроса,
которые выводится на стандартный вывод ошибок и читает ответ из
стандартного ввода. Если ответ не утвердительный, то файл пропускается.
.TP
.B "\-u, \-\-update"
Не переносит не-каталоги, которые уже существуют в месте, куда
осуществляется 
перенос и имеют то же самое или более позднее время модификации.
.TP
.B "\-v, \-\-verbose"
Выдавать имя каждого файла перед его переносом.
.SH "ОПЦИИ РЕЗЕРВНОГО КОПИРОВАНИЯ GNU"
GNU-версии таких программ как
.BR cp ,
.BR mv ,
.BR ln ,
.B install
и
.B patch 
могут, если потребуется, делать резервные копии файлов, которые будут
перезаписаны, изменены или уничтожены.  При желании, резервные копии
файлов создаются с помощью опции \-b.  Как они будут называться,
задает опция \-V.  В случае, если имя файла резервной копии создается
с помощью добавления суффикса к имени исходного файла, то суффикс
указывается с помощью опции \-S.
.TP
.B "\-b, \-\-backup"
Делать резервные копии файлов, которые будут перезаписаны или удалены.
.TP
.BI "\-S " СУФФИКС ", \-\-suffix=" СУФФИКС
Добавить
.I СУФФИКС
к имени файла при создании его резервной копии.

Если данная опция не задана, то суффикс можно также задать, используя
переменную окружения 
.B SIMPLE_BACKUP_SUFFIX
Если не задана ни опция, ни переменная, то по умолчанию используется
суффикс ~.
.TP
.BI "\-V " МЕТОД ", \-\-version\-control=" МЕТОД
.RS
Определяет, как будут называться резервные копии файлов. Аргумент
.I МЕТОД
может принимать значения numbered (или t), existing (или nil)
и never (или simple). Если данная опция не задана, то будет
использовано значение переменной окружения
.BR VERSION_CONTROL .
Если же не задано значение и этой переменной, то по умолчанию тип
резервного копирования устанавливается в existing.
.PP
Данная опция соответствует переменной version-control в Emacs.
Допустимыми значениями
.IR МЕТОД
являются (допускаются однозначные сокращения):
.TP
.BR t ", " numbered
Всегда делать нумерованные резервные копии файлов.
.TP
.BR nil ", " existing
Делать нумерованные резервные копии файлов для файлов, которые уже их
имеют и простые резервные копии для остальных файлов.
.TP
.BR never ", " simple
Всегда делать простые резервные копии.
.RE

.SH "СТАНДАРТНЫЕ ОПЦИИ GNU"
.TP
.B "\-\-help"
Выдать подсказку на стандартный вывод и успешно завершиться.
.TP
.B "\-\-version"
Выдать информацию о версии на стандартный вывод и успешно завершиться.
.TP
.B "\-\-"
Служит для обозначения конца списка опций.

.SH ОКРУЖЕНИЕ
При работе обычным образом используются значения переменных LANG, LC_ALL, LC_COLLATE,
LC_CTYPE и LC_MESSAGES. В версии GNU используются также переменные
SIMPLE_BACKUP_SUFFIX и VERSION_CONTROL, как описано выше.
.SH СОВМЕСТИМОСТЬ
Соответствует POSIX 1003.2, за исключением того, что иерархии каталогов
не могут быть перемещены в другую файловую систему.
.SH ЗАМЕЧАНИЯ
Эта страница описывает версию
.B mv
пакета fileutils-4.0; другие версии могут иметь небольшие отличия.
Исправления и дополнения присылайте по адресу aeb@cwi.nl.  Сообщения
об ошибках в этой программе присылайте по адресу
fileutils-bugs@gnu.ai.mit.edu.
.SH ПЕРЕВОД
Перевёл с английского Виктор Вислобоков <corochoone@perm.ru> 2003

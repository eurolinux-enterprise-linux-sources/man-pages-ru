.\" 
.\" manpage for /etc/dir_colors, config file for dircolors(1)
.\" extracted from color-ls 3.12.0.3 dircolors(1) manpage
.\"
.\" This file may be copied under the conditions described
.\" in the LDP GENERAL PUBLIC LICENSE, Version 1, September 1998
.\" that should have been distributed together with this file.
.\" Modified Sat Dec 22 22:25:33 2001 by Martin Schulze <joey@infodrom.org>
.\"
.\" Дата последней коррекции перевода 07.03.2004
.\" Перевод с английского сделал Виктор Вислобоков <corochoone@perm.ru>
.\" http://www.linuxshare.ru/projects/man/
.\" Вычитано и скорректировано by alexm@hsys.msk.ru для проекта
.\" http://alexm.here.ru/manpages-ru/ 
.\"
.TH DIR_COLORS 5 2001-12-26 "GNU fileutils 4.1"
.SH ИМЯ
dir_colors \- файл конфигурации для утилиты dircolors(1)
.SH ОПИСАНИЕ
Программа
.BR ls (1)
использует переменную окружения
.B LS_COLORS
для определения цветов, которыми должны отображаться имена файлов.
Эта переменная окружения обычно устанавливается командой типа

.RS
eval `dircolors some_path/dir_colors`
.RE

Эта команда обычно находится в стандартном файле инициализации, типа
.I /etc/profile
или
.I /etc/csh.cschrc
(См. также
.BR dircolor (1).)
Обычно здесь используется файл
.IR /etc/DIR_COLORS ,
настройки в котором переопределяются файлом
.I .dir_colors
в домашнем каталоге пользователя.
.PP
Этот файл конфигурации состоит из нескольких операторов, по одному в
строке.  Все, что находится после символа "решетка" (#), считается
комментарием, если этот символ находится в начале строки или перед ним 
находится как минимум один пробел.  Пустые строки игнорируются.
.PP
.I Глобальная
секция файла состоит из всех операторов перед первым оператором
.BR TERM .
Операторы в глобальной секции файла действуют для всех типов
терминалов.  После глобальной секции находится одна или более
.I Терминал-специфичных
каждая из которых начинается с оператора
.BR TERM ,
который Задаёт тип терминала (тот же, что задан переменной окружения
.BR TERM ),
к которому применяются все последующие объявления. Для любого теминала,
глобальные настройки всегда можно перекрыть терминал-специфичными.
.PP
Распознаются нижеследующие операторы (регистр букв неважен):
.PP
.TP
.B TERM \fIterminal-type\fR
Начинает секцию, специфичную для терминала, и указывает, к какому типу 
терминала она применима.  Можно использовать несколько операторов
.BR TERM ,
чтобы создать секцию, применимую к нескольким типам терминалов.
.TP
.B COLOR yes|all|no|none|tty
(Только для Slackware; игнорируется GNU
.BR dircolors (1).)
Указывает, что расцветка должна быть всегда разрешена (\fIyes\fR или
\fIall\fR); никогда не разрешена (\fIno\fR или \fInone\fR) или
разрешена, только если вывод происходит на терминальное устройство
(\fItty\fR).  По умолчанию -- \fIno\fR.
.TP
.B EIGHTBIT yes|no
(Только для Slackware; игнорируется GNU
.BR dircolors (1).)
Указывает, разрешены ли по умолчанию восьмибитные символы ISO 8859.
Из соображений совместимости можно также указывать 1 (означает
\fIyes\fR) или 0 (означает \fIno\fR).  По умолчанию -- \fIno\fR.
.TP
.B OPTIONS \fIoptions\fR
(Только для Slackware; игнорируется GNU
.BR dircolors (1).)
Добавляет опцию командной строки к стандартной командной строке
.BR ls .
Здесь можно указать любую разрешенную опцию команды
.BR ls ,
причем нужно указать начальный знак минус.  Заметьте, что
.B dircolors
не проверяет, верны ли эти опции.
.TP
.B NORMAL \fIcolor-sequence\fR
Задаёт цвет, используемый для нормального (не имя файла) текста.
.TP
.B FILE \fIcolor-sequence\fR
Задаёт цвет, используемый для обычного файла.
.TP
.B DIR \fIcolor-sequence\fR
Задаёт цвет, используемый для каталогов.
.TP
.B LINK \fIcolor-sequence\fR
Задаёт цвет, используемый для символьных ссылок.
.TP
.B ORPHAN \fIcolor-sequence\fR
Задаёт цвет, используемый для битой символьной ссылки (указывающей 
на несуществующий файл).  Если этот цвет не задан, то
.B ls
будет использовать вместо него цвет
.BR LINK .
.TP
.B MISSING \fIcolor-sequence\fR
Задаёт цвет, используемый для пропавшего файла (несуществующего файла, 
на который указывает символьная ссылка).  Если этот цвет не задан, то
.B ls
будет использовать вместо него цвет
.BR FILE .
.TP
.B FIFO \fIcolor-sequence\fR
Задаёт цвет, используемый для FIFO (именованного канала).
.TP
.B SOCK \fIcolor-sequence\fR
Задаёт цвет, используемый для сокета.
.TP
.B DOOR \fIcolor-sequence\fR
(Поддерживается, начиная с file-utils 4.1)
Задаёт цвет, используемый для файлов типа door (Solaris 2.5 и выше).
.TP
.B BLK \fIcolor-sequence\fR
Задаёт цвет, используемый для специального файла блочного устройства.
.TP
.B CHR \fIcolor-sequence\fR
Задаёт цвет, используемый для специального файла символьного
устройства.
.TP
.B EXEC \fIcolor-sequence\fR
Задаёт цвет, используемый для файла с установленным атрибутом
выполнения.
.TP
.B LEFTCODE \fIcolor-sequence\fR
Задаёт
.I "левый код"
для не-ISO\ 6429 терминалов (см. ниже).
.TP
.B RIGHTCODE \fIcolor-sequence\fR
Задаёт
.I "правый код"
для не-ISO\ 6429 терминалов (см. ниже).
.TP
.B ENDCODE \fIcolor-sequence\fR
Задаёт
.I "конечный код"
для не-ISO\ 6429 терминалов (см. ниже).
.TP
\fB*\fIextension\fR \fIcolor-sequence\fR
Задаёт цвет, используемый для файлов, чьи имена заканчиваются на
заданное расширение
.IR extension .
.TP
\fB .\fIextension\fR \fIcolor-sequence\fR
То же самое, что и \fB*\fR.\fIextension\fR.  Задаёт цвет, используемый 
для файлов, чьи имена заканчиваются на .\fIextension\fR.  Заметьте,
что точка входит в состав расширения, и из-за этого невозможно указать 
расширение, не начинающееся с точки, например
.B ~
для резервных копий редактора
.BR emacs .
Эта форма записи считается устаревшей.
.SH "ЦВЕТОВЫЕ ПОСЛЕДОВАТЕЛЬНОСТИ ISO 6429 (ANSI)"
Большинство цветных ASCII-терминалов в настоящее время используют
цветовые последовательности ISO 6429 (ANSI), а многие распространенные 
терминалы, не поддерживающие цвет, включая
.BR xterm ,
а также широко используемый и клонируемый DEC VT100, распознают
цветовые коды ISO 6429 и без последствий удаляют их из выходного
потока или же эмулируют их.
.B ls
по умолчанию использует коды ISO 6429, если включена расцветка.

Цветовые последовательности ISO 6429 составлены из последовательности
чисел, разделенных точками с запятой.  Самые распространенные коды
таковы:
.sp
.RS +.2i
.ta 1.0i
.nf
 0     восстановление цвета по умолчанию
 1     включить яркие цвета
 4     подчеркнутый текст
 5     мигающий текст
30     черный текст
31     красный текст
32     зеленый текст
33     желтый (или коричневый) текст
34     синий текст
35     фиолетовый текст
36     cyan текст
37     белый (или серый) текст
40     черный фон
41     красный фон
42     зеленый фон
43     желтый (или коричневый) фон
44     синий фон
45     фиолетовый фон
46     cyan фон
47     белый (или серый) фон
.fi
.RE
.sp
Не все команды будут работать на любой системе или устройстве
отображения.
.PP
.B ls
использует следующие значения по умолчанию:
.sp
.RS +.2i
.ta 1.0i 2.5i
.nf
\fBNORMAL\fR   0       Нормальный текст (не имя файла)
\fBFILE\fR     0       Обычный файл
\fBDIR\fR      32      Каталог
\fBLINK\fR     36      Символьная ссылка
\fBORPHAN\fR   неопределено       Сломанная символьная ссылка
\fBMISSING\fR  неопределено       Потерявшийся файл
\fBFIFO\fR     31      Именованный канал (FIFO)
\fBSOCK\fR     33      Сокет
\fBBLK\fR      44;37   Блочное устройство
\fBCHR\fR      44;37   Символьное устройство
\fBEXEC\fR     35      Исполняемый файл
.fi
.RE
.sp
Некоторые терминальные программы неправильно распознают установку
цвета по умолчанию.  Если весь текст становится расцвеченным после
того, как вы просматриваете листинг каталога, измените коды
.B NORMAL
и
.B FILE
на цифровые коды для нормального цвета текста и фона.
.SH "ДРУГИЕ ТИПЫ ТЕРМИНАЛОВ (СЛОЖНЫЕ КОНФИГУРАЦИИ)"
Если у вас есть терминал (или принтер!) с поддержкой цвета (или
другими возможностями выделения), который использует другой набор
кодов, вы все равно сможете создать подходящие настройки.  Для этого
нужно использовать операторы 
.BR LEFTCODE ,
.B RIGHTCODE
и
.BR ENDCODE .
.PP
При выводе имени
.B ls
генерирует такую последовательность:
.B LEFTCODE
.I typecode
.B RIGHTCODE
.I filename
.BR ENDCODE ,
где
.IR typecode --
цветовая последовательность, зависящая от типа или имени файла.  Если 
.B ENDCODE
не определен, то вместо него будет использоваться последовательность
.BR "LEFTCODE NORMAL RIGHTCODE" .
Назначение левого (LEFTCODE) и правого (RIGHTCODE) кодов -- просто
уменьшить количество информации, которую нужно набирать (а также
спрятать уродливые escape-последовательности от пользователя).  Если
они не подходят для вашего терминала, их можно выключить, поместив
соответствующее ключевое слово на отдельной строке.
.PP
.B ЗАМЕЧАНИЕ:
Если
.B ENDCODE
определен в глобальной секции файла настроек, то его
.I нельзя
переопределить в секции, специфической для терминала.  Это означает,
что все определения
.B NORMAL
не приведут ни к какому результату.  Однако, можно использовать
различные 
.BR ENDCODE ,
что и приведет к нужному результату.
.SH "ESCAPE ПОСЛЕДОВАТЕЛЬНОСТИ"
Для того, чтобы указать в цветовых последовательностях или расширениях 
имен файлов контрольные символы или пробелы, можно использовать либо
нотацию в стиле языка C, с помощью обратной косой черты, либо нотацию
в стиле программы
.BR stty ,
с помощью символа ^.  Нотация в стиле языка C включает в себя такие
символы:
.sp
.RS +.2i
.ta 1.0i
.nf
\fB\ea\fR      Bell (ASCII 7)
\fB\eb\fR      Backspace (ASCII 8)
\fB\ee\fR      Escape (ASCII 27)
\fB\ef\fR      Form feed (ASCII 12)
\fB\en\fR      Newline (ASCII 10)
\fB\er\fR      Carriage Return (ASCII 13)
\fB\et\fR      Tab (ASCII 9)
\fB\ev\fR      Vertical Tab (ASCII 11)
\fB\e?\fR      Delete (ASCII 127)
\fB\e\fInnn\fR Любой символ (восьмеричная запись)
\fB\ex\fInnn\fR        Любой символ (шестнадцатеричная запись)
\fB\e_\fR      Пробел
\fB\e\e\fR     Обратная косая черта (\e)
\fB\e^\fR      Caret (^)
\fB\e#\fR      Символ "диез" (#)
.fi
.RE
.sp
Заметьте, что escape-символы необходимы, чтобы использовать пробел,
обратную косую черту, "крышечку" или контрольные символы в любом месте
строки, а также символ "решетки" в качестве первого символа в строке.
.SH ЗАМЕЧАНИЯ
По умолчанию
.B LEFTCODE
и
.BR RIGHTCODE ,
использующиеся в терминалах ISO 6429, заданы так:
.sp
.RS +.2i
.ta 1.0i
.nf
\fBLEFTCODE\fR  \ee[
\fBRIGHTCODE\fR m
.fi
.RE
.sp
По умолчанию
.B ENDCODE
не определен.
.SH "СМОТРИ ТАКЖЕ"
.BR dircolors (1),
.BR ls (1),
.BR stty (1),
.BR xterm (1)
.SH FILES
.TP
.I /etc/DIR_COLORS
Общесистемный файл конфигурации.
.TP
.I ~/.dir_colors
Пользовательский файл конфигурации.
.SH ЗАМЕЧАНИЯ
Эта страница описывает файл
.BR dir_colors ,
который можно найти в пакете fileutils-4.1 package;
другие версии могут немного отличаться.  
Исправления и дополнения присылайте по адресу aeb@cwi.nl.
Отчеты об ошибках в этой программе присылайте по адресу
fileutils-bugs@gnu.ai.mit.edu.
.SH ПЕРЕВОД
Перевёл с английского Виктор Вислобоков <corochoone@perm.ru> 2004

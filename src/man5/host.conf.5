.\" Copyright (c) 1997 Martin Schulze (joey@infodrom.north.de)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\"
.\" Much of the text is copied from the manpage of resolv+(8).
.\"
.\" 2003-08-23 Martin Schulze <joey@infodrom.org> Updated according to glibc 2.3.2
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH HOST.CONF 5 2003\-08\-23 Linux "Системное администрирование Linux"
.SH ИМЯ
host.conf \- файл с настройками для резолвера
.SH ОПИСАНИЕ
В файле \fI/etc/host.conf\fP содержатся настройки для библиотеки резолвера
(resolver). Резолвером называется механизм преобразования имён узлов (обычно
компьютеров) сети в IP\-адреса и обратно \(em так называемое прямое и
обратное преобразование. прим. перев.) Данный файл должен содержать в каждой
строке одно ключевое слово, за которым следует информация о соответствующей
этому ключевому слову настройке. Ключевые слова: \fIorder\fP, \fItrim\fP,
\fImulti\fP, \fInospoof\fP, \fIspoof\fP и \fIreorder\fP. Они будут описаны далее.
.TP 
\fIorder\fP
Данное ключевое слово задает метод, с помощью которого будет осуществляться
поиск адреса узла. За этим словом должно следовать одно или несколько
названий методов, разделённых запятыми. Допустимы следующие названия
методов: \fIbind\fP, \fIhosts\fP и \fInis\fP.
.TP 
\fItrim\fP
Данное ключевое слово может быть использовано более одного раза. Каждый раз,
когда указывается это слово, за ним должен следовать список доменов,
начинающихся с точки и разделённых двоеточием (\(aq:\(aq), точкой с запятой
(\(aq;\(aq) или запятой (\(aq,\(aq). Эта настройка говорит библиотеке
resolv+ автоматически отсекать указанное имя домена из конца всех имен
узлов, которые преобразуются в адреса через DNS. Этот параметр задумывался
для использования с локальными узлами и доменами. (Важное замечание:
отсечение не будет выполняться для имён узлов, обрабатываемых через NIS или
файл узлов (hosts). Вы должны побеспокоиться о том, чтобы первое имя узла в
каждой записи в файле узлов являлось полностью (имя узла с доменом) или не
полностью (только имя узла) заданным, в зависимости от того как это
необходимо для ваших правил.)
.TP 
\fImulti\fP
Допустимыми для этого ключевого слова являются значения \fIon\fP и \fIoff\fP. Если
задано \fIon\fP, то библиотека resolv+ будет возвращать все допустимые адреса
узла, которые встретились в файле \fI/etc/hosts\fP, а не только первый из
них. По умолчанию используется \fIoff\fP, так как в противном случае возможно
существенное снижение производительности на машинах с большими файлами
узлов.
.TP 
\fInospoof\fP
Допустимыми для этого ключевого слова являются значения \fIon\fP и \fIoff\fP. Если
задано \fIon\fP, то библиотека resolv+ будет пытаться предотвратить подмену
имён узлов для усиления безопасности \fBrlogin\fP and \fBrsh\fP. Это работает так:
после выполнения поиска адреса узла по имени, резолвер будет выполнять поиск
имени узла по адресу. Если два имени не совпадут, то запрос будет
неудачным. По умолчанию значение установлено в \fIoff\fP.
.TP 
\fIspoofalert\fP
Допустимыми для этого ключевого слова являются значения \fIon\fP и \fIoff\fP. Если
задано \fIon\fP и при этом также установлен параметр \fInospoof\fP, то resolv+
будет записывать в системный журнал предупреждения об ошибках через
syslog. По умолчанию значение установлено в \fIoff\fP.
.TP 
\fIspoof\fP
Допустимыми для этого ключевого слова являются значения \fIoff\fP, \fInowarn\fP и
\fIwarn\fP. Если задано \fIoff\fP, то подмена адресов допускается и в системный
журнал через syslog не будет попадать никаких предупреждающих
сообщений. Если значение параметра равно \fIwarn\fP, то resolv+ будет пытаться
предотвратить обман по именам узлов для усиления безопасности и в системный
журнал через syslog будут записываться предупреждения об ошибках. Если
значение параметра равно \fInowarn\fP, то библиотека resolv+ будет пытаться
предотвратить обман по именам узлов для усиления безопасности, но
предупреждающие сообщения генерироваться не будут. Присвоение других
значений будет считаться установкой в значение \fInowarn\fP.
.TP 
\fIreorder\fP
Допустимыми для этого ключевого слова являются значения \fIon\fP и \fIoff\fP. Если
задано \fIon\fP, то resolv+ будет пытаться перегруппировать адреса узлов так,
чтобы локальные адреса (т. е. адреса в той же подсети) были выданы первыми,
когда выполняется вызов \fBgethostbyname\fP(3). Перегруппировка выполняется для
всех методов поиска. По умолчанию значение установлено в \fIoff\fP.
.SH ОКРУЖЕНИЕ
Есть шесть переменных окружения, которые могут быть использованы, чтобы
позволить пользователю изменить поведение, настроенное через
\fI/etc/host.conf\fP.
.TP 
\fBRESOLV_HOST_CONF\fP
Если значение этой переменной является именем файла, то он будет прочитан
вместо файла \fI/etc/host.conf\fP.
.TP 
\fBRESOLV_SERV_ORDER\fP
Заменяет значение ключа \fIorder\fP.
.TP 
\fBRESOLV_SPOOF_CHECK\fP
Заменяет значение ключей \fInospoof\fP, \fIspoofalert\fP и \fIspoof\fP тем же
способом как задаётся значение для ключа \fIspoof\fP. Допустимыми являются
значения \fIoff\fP, \fInowarn\fP и \fIwarn\fP.
.TP 
\fBRESOLV_MULTI\fP
Заменяет значение ключа \fImulti\fP.
.TP 
\fBRESOLV_REORDER\fP
Заменяет значение ключа \fIreorder\fP.
.TP 
\fBRESOLV_ADD_TRIM_DOMAINS\fP
Список доменов, начинающихся с точки, разделённых двоеточием (\(aq:\(aq),
точкой с запятой (\(aq;\(aq) или запятой (\(aq,\(aq), который будет добавлен
к списку доменов для отсечения.
.TP 
\fBRESOLV_OVERRIDE_TRIM_DOMAINS\fP
Список доменов, начинающихся с точки, разделённых двоеточием (\(aq:\(aq),
точкой с запятой (\(aq;\(aq) или запятой (\(aq,\(aq), который заменит список
доменов для отсечения. Заменяет значение ключа \fItrim\fP.
.SH ФАЙЛЫ
.TP 
\fI/etc/host.conf\fP
Файл с настройками резолвера
.TP 
\fI/etc/resolv.conf\fP
Файл с настройками резолвера
.TP 
\fI/etc/hosts\fP
Локальная база данных узлов
.SH ЗАМЕЧАНИЯ
Существуют следующие различия с первоначальной реализацией: новая команда
\fIspoof\fP и новая переменная окружения \fBRESOLV_SPOOF_CHECK\fP могут быть
установлены в значение \fIoff\fP, \fInowarn\fP и \fIwarn\fP. Комментарии могут
вставляться везде, а не только в начале строки.
.SH "СМОТРИТЕ ТАКЖЕ"
\fBgethostbyname\fP(3), \fBhostname\fP(7), \fBnamed\fP(8), \fBresolv+\fP(8)

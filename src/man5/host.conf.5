.\" Copyright (c) 1997 Martin Schulze (joey@infodrom.north.de)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\"
.\" Much of the text is copied from the manpage of resolv+(8).
.\" 2003-08-23 Martin Schulze <joey@infodrom.org> Updated according to glibc 2.3.2
.\"
.\" Дата последней коррекции перевода 07.03.2004
.\" Перевод с английского выполнил Виктор Вислобоков <corochoone@perm.ru>
.\" http://www.linuxshare.ru/projects/man/
.\" Вычитано и скорректировано by alexm@hsys.msk.ru для проекта
.\" http://alexm.here.ru/manpages-ru/ 
.TH HOST.CONF 5 2003-08-23 "Debian/GNU Linux" "Администрирование системы Linux"
.SH ИМЯ
host.conf \- файл с настройками для резолвера
.SH ОПИСАНИЕ
Файл
.I /etc/host.conf
содержит настройки для библиотеки резолвера (resolver). (Резолвером
называется механизм преобразования имен узлов (обычно компьютеров)
сети в IP адреса и обратно -- так называемое прямое и обратное
преобразование. -- Прим. перев.)
Данный файл должен содержать в каждой строке одно ключевое слово, за которым
следует информация о соответствующей этому ключевому слову настройке. Вот
эти ключевые слова:
.IR order ", " trim ", " multi ", " nospoof ", " spoof " и " reorder .
Эти ключевые слова описываются ниже.

.TP
.I order
Данное ключевое слово задает метод, с помощью которого будет осуществляться
поиск адреса узла.  За этим словом должно следовать одно или несколько
названий методов, разделенных запятыми. Допустимы следующие названия
методов:
.IR bind ", " hosts " и " nis .
.TP
.I trim 
Данное ключевое слово может быть использовано больше одного раза.
Каждый раз, когда указывается это слово, за ним должен следовать
список доменов, начинающихся с точки и разделённых двоеточем (`:'),
точкой с запятой (`;') или запятой (`,').
Эта настройка говорит библиотеке resolv+ отсекать указанное имя
домена из конца всех имен узлов, которые преобразуются в адреса через DNS.
Этот параметр задумывался для использования с локальными узлами и доменами.
(Важное замечание: отсечение не будет выполняться для имен узлов,
обрабатываемых через NIS или файл /etc/hosts).  Вы должны побеспокоиться
о том, чтобы первое имя узла в каждой записи в файле /etc/hosts являлось
полностью (имя узла с доменом) или не полностью (только имя узла) заданным,
в зависимости от того как это необходимо для ваших локальных настроек.
.TP
.I multi
Допустимыми для этого ключевого слова являются значения
.IR on " и " off .
Если задано
.IR on ,
то библиотека resolv+ будет возвращать все допустимые адреса
узла, которые встретились в файле
.IR /etc/hosts ,
а не только первый из них.  По умолчанию стоит
.IR off ,
так как в противном случае возможно
существенное снижение производительности на сайтах с большими
файлами узлов.
.TP
.I nospoof
Допустимыми для этого ключевого слова являются значения
.IR on " и " off .
Если задано
.IR on ,
библиотека resolv+ будет пытаться предотвращать обман по
именам узлов для усиления безопасности
.BR rlogin " и " rsh .
Это работает так: после выполнения поиска адреса узла по имени,
резолвер будет выполнять поиск имени узла по адресу. Если эти
два имени не совпадут, то результат операции будет признан
ошибочным. По умолчанию значение установлено в
.IR off .
.TP
.I spoofalert
Допустимыми для этого ключевого слова являются значения
.IR on " и " off .
Если значение данного ключевого слова установлено в
.I on
и при этом также установлено
.IR nospoof ,
то резолвер будет записывать в системный журнал предупреждения об ошибках
через syslog. По умолчанию значение этого ключевого слова установлено в
.IR off .
.TP
.I spoof
Допустимыми для этого ключевого слова являются значения
.IR off ", " nowarn " и " warn .
Если эта опция установлена в
.IR off ,
то обманные адреса допускаются и в системный журнал через syslog не
будет попадать никаких предупреждающих сообщений.
Если эта опция установлена в
.IR warn ,
то библиотека resolv+ будет пытаться предотвращать обман по
именам узлов для усиления безопасности и в системный журнал
через syslog будут записываться предупреждения об ошибках.
Если эта опция установлена в
.IR nowarn ,
то библиотека resolv+ будет пытаться предотвращать обман по
именам узлов для усиления безопасности, но предупреждающие
сообщения генерироваться не будут.
Устнановка этой опции в значение, отличное от вышеописанных,
будет считаться установкой в значение
.IR nowarn .
.TP
.I reorder
Допустимыми для этого ключевого слова являются значения
.IR on " и " off .
Если задано
.IR on ,
то резолвер будет пытаться перегруппировать адреса узлов так, чтобы
локальные адреса (т. е. адреса в той же подсети) были выданы первыми,
когда выполняется вызов
.BR gethostbyname (3).
Перегруппировка выполняется для всех методов поиска. По умолчанию
установлено значение
.IR off .
.SH ОКРУЖЕНИЕ
Есть шесть переменных окружения, которые могут быть использованы,
чтобы позволить пользователю перекрыть поведение, настроенное в 
.IR /etc/host.conf .
.TP
.B RESOLV_HOST_CONF
Если значение этой переменной является именем файла, то он будет
прочитан вместо файла
.IR /etc/host.conf .
.TP
.B RESOLV_SERV_ORDER
Перекрывает команду
.I order .
.TP
.B RESOLV_SPOOF_CHECK
Перекрывает команды
.IR nospoof ", " spoofalert " и " spoof
тем же способом как задаётся значение для команды
.I spoof .
Допустимыми являются значения
.IR off ", " nowarn " и " warn .
.TP
.B RESOLV_MULTI
Перекрывает команду
.I multi .
.TP
.B RESOLV_REORDER
Перекрывает команду
.I reorder .
.TP
.B RESOLV_ADD_TRIM_DOMAINS
Список доменов, начинающихся с точки, разделённых двоеточием (`:'),
точкой с запятой (`;') или запятой (`,'), который будет добавлен к
списку доменов для отсечения.
.TP
.B RESOLV_OVERRIDE_TRIM_DOMAINS
Список доменов, начинающихся с точки, разделённых двоеточием (`:'),
точкой с запятой (`;') или запятой (`,'), который заменяет список
доменов для отсечения.  Перекрывает команду
.I trim .
.SH ФАЙЛЫ
.TP
.I /etc/host.conf
Файл с настройками резолвера
.TP
.I /etc/resolv.conf
Файл с настройками резолвера
.TP
.I /etc/hosts
Локальная база данных узлов
.SH ЗАМЕЧАНИЯ
Существуют следующие различия с первоначальной реализацией.
Новая команда
.I spoof
и новая переменная окружения
.B RESOLV_SPOOF_CHECK
могут быть установлены в одно из значений
.IR off ", " nowarn " и " warn .
Комментарии могут встречаться везде, а не только вначале строки.
.SH "СМОТРИ ТАКЖЕ"
.BR gethostbyname (3),
.BR hostname (7),
.BR resolv+ (8),
.BR named (8)
.SH ПЕРЕВОД
Перевёл с английского Виктор Вислобоков <corochoone@perm.ru> 2004

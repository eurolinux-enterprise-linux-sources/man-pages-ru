.\" -*- nroff -*-
.\" Copyright 1999 SuSE GmbH Nuernberg, Germany
.\" Author: Thorsten Kukuk <kukuk@suse.de>
.\"
.\" This program is free software; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of the
.\" License, or (at your option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
.\" General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this program; see the file COPYING.  If not,
.\" write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
.\" Boston, MA 02111-1307, USA.
.\"
.\" Modified, 6 May 2002, Michael Kerrisk, mtk16@ext.canterbury.ac.nz
.\"   Change listed order of /usr/lib and /lib
.\" 
.\" Дата последней коррекции перевода 08.02.2004
.\" Перевод с английского сделал Виктор Вислобоков <corochoone@perm.ru>
.\" http://www.linuxshare.ru/projects/man/
.\"
.TH LDCONFIG 8 2002-05-06 "Библиотека GNU C" "Руководство программста Linux"
.SH ИМЯ
/sbin/ldconfig \- настройка динамического связывания во время выполнения
.SH ОБЗОР
.B /sbin/ldconfig
[
.B \-nNvXV
]
[
.BR \-f\ conf
]
[
.BR \-C\ cache
]
[
.BR \-r\ root
]
.IR каталог \ ...
.PD 0
.PP
.PD
.BR /sbin/ldconfig
.B \-l
[
.B \-v
]
.IR библиотека \ ...
.PD 0
.PP
.PD
.B /sbin/ldconfig
.B \-p
.SH ОПИСАНИЕ
.B ldconfig
создаёт необходимые привязки и кэш для большинства необходимых
динамических библиотек, найденных в каталогах, которые указываются
в командной строке, в файле
.IR /etc/ld.so.conf ,
и в доверенные каталогах
.RI ( /lib
и
.IR /usr/lib ).
Созданный кэш используется компановщиками
.IR ld.so
и
.IR ld-linux.so ,
которые выполняют связывание во время выполнения.
.B ldconfig
проверяет заголовок и имена файлов библиотек, их столкновения, когда
определяется какая версия должна иметь более новые ссылки.
.PP
.B ldconfig
будет пытаться вывести заключение о типе ELF библиотек (т.е. libc5 или
libc6/glibc), основанных на библиотеках языка C и о том какая библиотека
должна быть связана. Поэтому, при создании динамических баблиотек,
явно указывают на связывание с libc (используя -lc).
.PP
Некоторые существующие библиотеки не содержат необходимую информацию, чтобы
сделать вывод об их типе. Поэтому файл
.IR /etc/ld.so.conf
разрешает задавать ожидаемый тип. Эта возможность используется
.B только
для тех ELF библиотек, с которыми мы иначе не можем работать. Формат
выглядит как "dirname=TYPE", где TYPE может принмать значение libc4,
libc5 или libc6. (Данный синтаксис работает также и в командной
строке). Пробелы
.B не
разрешаются.  Также смотрите опцию
.B -p .
.B ldconfig
обычно должен запускаться суперпользователем, так как выполнение может
требовать прав на запись в некоторые каталоги и файлы, владельцем которых
является root.
.SH ОПЦИИ
.TP
.B \-v
Режим подробностей.
Выдаётся номер текущей версии, имя каждого каталога, который сканируется
и все создаваемые символьные ссылки. Перекрывает режим молчания.
.TP
.B \-n
Обрабатывать только каталоги, заданные в командной строке. Не
обрабатывать ни доверенные каталоги
.RI ( /lib
и
.IR /usr/lib )
ни те, которые заданы в
.IR /etc/ld.so.conf .
Неявно включает
.BR \-N .
.TP
.B \-N
Не перестраивать кэш.
За исключением случая, когда также задаётся
.B \-X ,
ссылки будут обновлены.
.TP
.B \-X
Не обновлять ссылки.
За исключением случая, когда также задаётся
.B \-N ,
кэш будет перестроен.
.TP
.B \-f conf
Использовать
.B conf
вместо
.IR /etc/ld.so.conf .
.TP
.B \-C cache
Использовать
.B cache
вместо
.IR /etc/ld.so.cache .
.TP
.B \-r root
Изменить и использовать
.B root
в качестве корневого каталога.
.TP
.B \-l
Библиотечный режим. Ручное связывание отдельных библиотек. Предназначен
только для экспертов.
.TP
.B \-p
Выдать список каталогов и библиотек-кандидатов, сохранённый в текущем
кэше.

.SH ФАЙЛЫ
.PD 0
.TP 20
.B /lib/ld.so
динамический компановщик
.TP 20
.B /etc/ld.so.conf
Файл, содержащий список разделённых двоеточием, пробелом, табуляцией
или символом новой строки, каталогов, в которых производится поиск
библиотек.
.TP 20
.B /etc/ld.so.cache
Файл, содержащий сортированный список библиотек, найденных в каталогах,
заданных в
.BR /etc/ld.so.conf .
.PD
.SH ПЕРЕВОД
Перевёл с английского Виктор Вислобоков <corochoone@perm.ru> 2003
